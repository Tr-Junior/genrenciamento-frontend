<div class="col-12 p-0">
  <div class="card card-w-title">
      <p-menubar [model]="items" class="mr-2 custom-menu">
          <ng-template pTemplate="start">
              <img class="p-0" src="assets/image/logo.png" height="60"/>
              <p-button style="margin-botom: 1.5rem" label="{{ user.name }}" styleClass="p-button-link text-2xl mb-2" class="" (click)="userOverlay.toggle($event)"></p-button>
              <p-overlayPanel #userOverlay [dismissable]="true"><div class="full-height flex align-items-center justify-content-center">
                <p-button label="{{ user.name }}" styleClass="p-button-link text-2xl mb-2" (click)="userOverlay.toggle($event)"></p-button>
            </div>

                  <p-menu styleClass="" [model]="userItems"></p-menu>
              </p-overlayPanel>
          </ng-template>
          <ng-template pTemplate="end">
              <p-overlayPanel #lowStockOverlayPanel [dismissable]="true" [showCloseIcon]="false">
                  <div style="max-height: 300px; overflow-y: auto;">
                      <p-table [value]="lowStockProducts" [tableStyle]="{ 'min-width': '20rem' }">
                          <ng-template pTemplate="header">
                              <tr>
                                  <th>Nome</th>
                                  <th>Em estoque</th>
                              </tr>
                          </ng-template>
                          <ng-template pTemplate="body" let-product>
                              <tr>
                                  <td>{{ product.title }}</td>
                                  <td [ngClass]="{'outofstock': product.quantity === 0, 'lowstock': (product.quantity != 0 && product.quantity <= 10),'instock': product.quantity > 10}">{{ product.quantity }}</td>
                              </tr>
                          </ng-template>
                      </p-table>
                  </div>
              </p-overlayPanel>
              <span *ngIf="lowStockProducts.length > 0" (click)="lowStockOverlayPanel.toggle($event)">
                  <i class="pi pi-bell mr-3" pBadge [value]="lowStockProducts.length.toString()"></i>
              </span>
              <span *ngIf="lowStockProducts.length == 0">
                  <i class="pi pi-bell"></i>
              </span>
              <button pButton pRipple icon="pi pi-sign-out" type="button" label="Sair" (click)="logout()" class="p-button-text p-button-plain"></button>
          </ng-template>
      </p-menubar>
  </div>
</div>
